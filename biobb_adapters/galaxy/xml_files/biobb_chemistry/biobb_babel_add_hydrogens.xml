<tool id="biobb_chemistry_babel_add_hydrogens_ext" name="BabelAddHydrogens" version="3.0.0" >
    <description>: This class is a wrapper of the Open Babel tool.</description>
    <requirements>
        <requirement type="package">biobb_chemistry</requirement>
    </requirements>
    <command detect_errors="aggressive"><![CDATA[
        
          ln -f -s ${input_path} ${input_path}.${input_path.ext};
        
        #if $config.sele == "option1":
          ln -s -f ${config.properties} ${config.properties}.${config.properties.ext};
        #end if
        babel_add_hydrogens
        #if $config.sele == "option1":
          --config ${config.properties}.${config.properties.ext}
        #else if $config.sele == "option2":
          --config '${config.jsonstr}'
        #else if $config.sele == "option4":
          --config "__oc____dq__input_format__dq__:__dq__${config.input_format}__dq__,__dq__output_format__dq__:__dq__${config.output_format}__dq__,__dq__coordinates__dq__:__dq__${config.coordinates}__dq__,__dq__ph__dq__:__dq__${config.ph}__dq__,__dq__obabel_path__dq__:__dq__${config.obabel_path}__dq____cc__"
        #end if
        
          --input_path ${input_path}.${input_path.ext}
        
        
          --output_path $__root_dir__/database/files/000/$outname_output_path
        ;          
        #if $config.sele == "option1":
          rm -f ${config.properties}.${config.properties.ext};
        #end if
        
          rm -f ${input_path}.${input_path.ext};
        
        
          if test -f $__root_dir__/database/files/000/$outname_output_path; then mv $__root_dir__/database/files/000/$outname_output_path $output_path; fi;
        
    ]]>
    </command>
    <inputs>
        
          <param name="input_path" type="data" format="dat,ent,fa,fasta,gro,inp,log,mcif,mdl,mmcif,mol,mol2,pdb,pdbqt,png,sdf,smi,smiles,txt,xml,xtc"  optional="False" label="input DAT,ENT,FA,FASTA,GRO,INP,LOG,MCIF,MDL,MMCIF,MOL,MOL2,PDB,PDBQT,PNG,SDF,SMI,SMILES,TXT,XML,XTC file" help="Path to the input file. Format: [input].[format]"/> 
        
        
          <param name="outname_output_path" type="text" value="mybabel_add_hydrogens.ent" optional="False" label="output ENT,FA,FASTA,GRO,INP,MCIF,MDL,MMCIF,MOL,MOL2,PDB,PDBQT,PNG,SDF,SMI,SMILES,TXT name" help="Path to the output file Format: [output].[format] "/>
        
        <conditional name="config">
            <param name="sele" type="select" label="Take tool settings:" help="Select where tool settings are to be read from">
                <option value="option3" selected="true">use defaults</option>
                <option value="option1">from configuration file</option>
                <option value="option2">from JSON string</option>
                <option value="option4"> Manual input</option>
            </param>
            <when value="option1">
                <param name="properties" type="data" format="yml,json" optional="false" label="Configuration file" help="File containing tool settings. See below for the syntax"/>
            </when>
            <when value="option2">
                <param name="jsonstr" type="text" value="{}" optional="false" label="JSON string" help="JSON string containing tool settings. See below for the syntax"/>
            </when>
            <when value="option3">
            </when>
            <when value="option4">
                
                  <param name="input_format" type="select" label="input_format" help="Format of input file. If not provided, input_path extension will be taken. ">
                    
                      <option value="dat" 
                      
                      >dat</option>
                    
                      <option value="ent" 
                      
                      >ent</option>
                    
                      <option value="fa" 
                      
                      >fa</option>
                    
                      <option value="fasta" 
                      
                      >fasta</option>
                    
                      <option value="gro" 
                      
                      >gro</option>
                    
                      <option value="inp" 
                      
                      >inp</option>
                    
                      <option value="log" 
                      
                      >log</option>
                    
                      <option value="mcif" 
                      
                      >mcif</option>
                    
                      <option value="mdl" 
                      
                      >mdl</option>
                    
                      <option value="mmcif" 
                      
                      >mmcif</option>
                    
                      <option value="mol" 
                      
                      >mol</option>
                    
                      <option value="mol2" 
                      
                      >mol2</option>
                    
                      <option value="pdb" 
                      
                      >pdb</option>
                    
                      <option value="pdbqt" 
                      
                      >pdbqt</option>
                    
                      <option value="png" 
                      
                      >png</option>
                    
                      <option value="sdf" 
                      
                      >sdf</option>
                    
                      <option value="smi" 
                      
                      >smi</option>
                    
                      <option value="smiles" 
                      
                      >smiles</option>
                    
                      <option value="txt" 
                      
                      >txt</option>
                    
                      <option value="xml" 
                      
                      >xml</option>
                    
                      <option value="xtc" 
                      
                      >xtc</option>
                    
                    </param>
                
                  <param name="output_format" type="select" label="output_format" help="Format of output file. If not provided, output_path extension will be taken. ">
                    
                      <option value="ent" 
                      
                      >ent</option>
                    
                      <option value="fa" 
                      
                      >fa</option>
                    
                      <option value="fasta" 
                      
                      >fasta</option>
                    
                      <option value="gro" 
                      
                      >gro</option>
                    
                      <option value="inp" 
                      
                      >inp</option>
                    
                      <option value="mcif" 
                      
                      >mcif</option>
                    
                      <option value="mdl" 
                      
                      >mdl</option>
                    
                      <option value="mmcif" 
                      
                      >mmcif</option>
                    
                      <option value="mol" 
                      
                      >mol</option>
                    
                      <option value="mol2" 
                      
                      >mol2</option>
                    
                      <option value="pdb" 
                      
                      >pdb</option>
                    
                      <option value="pdbqt" 
                      
                      >pdbqt</option>
                    
                      <option value="png" 
                      
                      >png</option>
                    
                      <option value="sdf" 
                      
                      >sdf</option>
                    
                      <option value="smi" 
                      
                      >smi</option>
                    
                      <option value="smiles" 
                      
                      >smiles</option>
                    
                      <option value="txt" 
                      
                      >txt</option>
                    
                      <option value="xtc" 
                      
                      >xtc</option>
                    
                    </param>
                
                  <param name="coordinates" type="select" label="coordinates" help="Type of coordinates: 2D or 3D. ">
                    
                      <option value="2" 
                      
                      >2</option>
                    
                      <option value="3" 
                      
                      >3</option>
                    
                    </param>
                
                  
                
                  <param name="obabel_path" type="text" value="obabel" label="obabel_path" help="Path to the obabel executable binary." optional="false"/>
                
            </when>
        </conditional>
    </inputs>
    <outputs>
        
        <data name="output_path" format="ent,fa,fasta,gro,inp,mcif,mdl,mmcif,mol,mol2,pdb,pdbqt,png,sdf,smi,smiles,txt" label="${outname_output_path}"/>
        
    </outputs>
    <tests>
        <test>
        </test>
    </tests>    
    <help>
.. class:: infomark
        
Check the syntax for the tool parameters at the original library documentation: https://biobb_chemistry.readthedocs.io/en/latest

-----

.. image:: http://mmb.irbbarcelona.org/biobb/assets/layouts/layout3/img/logo.png    
    :width: 150

**https://mmb.irbbarcelona.org/biobb**
        
.. image:: https://bioexcel.eu/wp-content/uploads/2019/08/Bioexcel_logo_no_subheading_660px.png
        :width: 150
        
**https://bioexcel.eu**
   </help>

    <citations>
        <citation type="bibtex">
            @misc{githubbiobb,
            author = {Andrio P, Bayarri, G., Hospital A, Gelpi JL},
            year = {2019-20},
            title = {biobb: BioExcel building blocks },
            publisher = {GitHub},
            journal = {GitHub repository},
            url = {https://github.com/bioexcel/biobb_chemistry},
            }
        </citation>
        <citation type="doi">10.1038/s41597-019-0177-4</citation>
    </citations>
</tool>